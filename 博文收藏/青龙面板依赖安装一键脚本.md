date: 2022/01/18 17:20

青龙面板依赖安装一键脚本

青龙一般都是docker安装的，运行起来贼时不时就缺包少库，比如我在青龙界面安装Python3的依赖 `numpy` 就总是失败。

仓库地址
https://github.com/FlechazoPh/QLDependency

脚本地址
https://github.com/FlechazoPh/QLDependency/blob/main/Shell/QLOneKeyDependency.sh

按照仓库作者说的执行方案是用 `curl` 命令下载到container里然后执行

第一步，在安装docker机器的console执行以下命令以获得青龙container的console：

```bash
docker exec -it [qinglong] bash # 注：请填入你在docker安装的青龙的名称
```

当然这一步我就不要执行了，因为我用的portainer，鼠标点几下就可以获得青龙container的console

第二部，在青龙container的console执行：

```bash
curl -fsSL https://ghproxy.com/https://raw.githubusercontent.com/FlechazoPh/QLDependency/main/Shell/QLOneKeyDependency.sh | sh
```

或者以上两部合二为一，直接在安装docker的机器的console执行：

```bash
docker exec -it qinglong bash -c "$(curl -fsSL https://ghproxy.com/https://raw.githubusercontent.com/FlechazoPh/QLDependency/main/Shell/QLOneKeyDependency.sh | sh)"
```

最后第三步，重启青龙container：

```bash
docker restart qinglong
```

但时过境迁，现在访问github时443端口常年爆炸，这个第二部能成功执行的可能性很低的，完全要看老天脸色行事。

所以建议把这个文件自己下载回来，直接ftp或scp什么的搞到docker的机器上，在移到青龙container的volume下面去，最后在青龙container的console执行：

```bash
sh QLOneKeyDependency.sh
```

-或者下载回来后移到docker机器上，再移到青龙的 `/ql/scripts/` 下面去，最后去青龙的页面添加任务执行也可以。-
（不知道为啥我在青龙面板加了这个任务执行后好像还是不行，又换到青龙container的console里执行，但是报错一大堆，不过好歹青龙面板的页面可以正常访问了）
